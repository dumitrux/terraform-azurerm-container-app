{"format_version":"1.2","terraform_version":"1.7.5","variables":{"container_app_monitoring_metrics":{"value":[]},"container_app_revision_mode":{"value":"Single"},"location":{"value":"uksouth"},"log_analytics_workspace_id":{"value":null},"monitoring_enabled":{"value":false},"monitoring_logs_container_app":{"value":[]},"monitoring_metrics_container_app":{"value":["AllMetrics"]},"private_networking_enabled":{"value":false},"resource_group_name":{"value":"rg-ca-uks-test"},"resource_suffix":{"value":"uks-test"},"tags":{"value":{}}},"planned_values":{"outputs":{"container_app_environment_id":{"sensitive":false},"container_app_fqdn":{"sensitive":false,"type":["object",{}],"value":{}},"container_app_ips":{"sensitive":false},"container_app_name":{"sensitive":false,"type":"string","value":"example-app"}},"root_module":{"resources":[{"address":"azurerm_resource_group.test","mode":"managed","type":"azurerm_resource_group","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"uksouth","managed_by":null,"name":"rg-ca-uks-test","tags":null,"timeouts":null},"sensitive_values":{}}],"child_modules":[{"resources":[{"address":"module.container_app.azurerm_container_app.container_app","mode":"managed","type":"azurerm_container_app","name":"container_app","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"dapr":[],"identity":[{"identity_ids":null,"type":"SystemAssigned"}],"ingress":[],"name":"example-app","registry":[],"resource_group_name":"rg-ca-uks-test","revision_mode":"Single","secret":[],"tags":null,"template":[{"azure_queue_scale_rule":[],"container":[{"args":null,"command":null,"cpu":0.25,"env":[],"image":"mcr.microsoft.com/azuredocs/containerapps-helloworld:latest","liveness_probe":[],"memory":"0.5Gi","name":"examplecontainerapp","readiness_probe":[],"startup_probe":[],"volume_mounts":[]}],"custom_scale_rule":[],"http_scale_rule":[],"init_container":[],"max_replicas":10,"tcp_scale_rule":[],"volume":[]}],"timeouts":null,"workload_profile_name":null},"sensitive_values":{"dapr":[],"identity":[{}],"ingress":[],"outbound_ip_addresses":[],"registry":[],"secret":[],"template":[{"azure_queue_scale_rule":[],"container":[{"env":[],"liveness_probe":[],"readiness_probe":[],"startup_probe":[],"volume_mounts":[]}],"custom_scale_rule":[],"http_scale_rule":[],"init_container":[],"tcp_scale_rule":[],"volume":[]}]}},{"address":"module.container_app.azurerm_container_app_environment.container_env","mode":"managed","type":"azurerm_container_app_environment","name":"container_env","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"dapr_application_insights_connection_string":null,"infrastructure_subnet_id":null,"internal_load_balancer_enabled":false,"location":"uksouth","log_analytics_workspace_id":null,"name":"Example-Environment","resource_group_name":"rg-ca-uks-test","tags":null,"timeouts":null,"workload_profile":[],"zone_redundancy_enabled":false},"sensitive_values":{"workload_profile":[]}}],"address":"module.container_app"}]}},"resource_changes":[{"address":"azurerm_resource_group.test","mode":"managed","type":"azurerm_resource_group","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"uksouth","managed_by":null,"name":"rg-ca-uks-test","tags":null,"timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.container_app.azurerm_container_app.container_app","module_address":"module.container_app","mode":"managed","type":"azurerm_container_app","name":"container_app","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"dapr":[],"identity":[{"identity_ids":null,"type":"SystemAssigned"}],"ingress":[],"name":"example-app","registry":[],"resource_group_name":"rg-ca-uks-test","revision_mode":"Single","secret":[],"tags":null,"template":[{"azure_queue_scale_rule":[],"container":[{"args":null,"command":null,"cpu":0.25,"env":[],"image":"mcr.microsoft.com/azuredocs/containerapps-helloworld:latest","liveness_probe":[],"memory":"0.5Gi","name":"examplecontainerapp","readiness_probe":[],"startup_probe":[],"volume_mounts":[]}],"custom_scale_rule":[],"http_scale_rule":[],"init_container":[],"max_replicas":10,"tcp_scale_rule":[],"volume":[]}],"timeouts":null,"workload_profile_name":null},"after_unknown":{"container_app_environment_id":true,"custom_domain_verification_id":true,"dapr":[],"id":true,"identity":[{"principal_id":true,"tenant_id":true}],"ingress":[],"latest_revision_fqdn":true,"latest_revision_name":true,"location":true,"outbound_ip_addresses":true,"registry":[],"secret":[],"template":[{"azure_queue_scale_rule":[],"container":[{"env":[],"ephemeral_storage":true,"liveness_probe":[],"readiness_probe":[],"startup_probe":[],"volume_mounts":[]}],"custom_scale_rule":[],"http_scale_rule":[],"init_container":[],"min_replicas":true,"revision_suffix":true,"tcp_scale_rule":[],"volume":[]}]},"before_sensitive":false,"after_sensitive":{"custom_domain_verification_id":true,"dapr":[],"identity":[{}],"ingress":[],"outbound_ip_addresses":[],"registry":[],"secret":[],"template":[{"azure_queue_scale_rule":[],"container":[{"env":[],"liveness_probe":[],"readiness_probe":[],"startup_probe":[],"volume_mounts":[]}],"custom_scale_rule":[],"http_scale_rule":[],"init_container":[],"tcp_scale_rule":[],"volume":[]}]}}},{"address":"module.container_app.azurerm_container_app_environment.container_env","module_address":"module.container_app","mode":"managed","type":"azurerm_container_app_environment","name":"container_env","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"dapr_application_insights_connection_string":null,"infrastructure_subnet_id":null,"internal_load_balancer_enabled":false,"location":"uksouth","log_analytics_workspace_id":null,"name":"Example-Environment","resource_group_name":"rg-ca-uks-test","tags":null,"timeouts":null,"workload_profile":[],"zone_redundancy_enabled":false},"after_unknown":{"default_domain":true,"docker_bridge_cidr":true,"id":true,"infrastructure_resource_group_name":true,"platform_reserved_cidr":true,"platform_reserved_dns_ip_address":true,"static_ip_address":true,"workload_profile":[]},"before_sensitive":false,"after_sensitive":{"dapr_application_insights_connection_string":true,"workload_profile":[]}}}],"output_changes":{"container_app_environment_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"container_app_fqdn":{"actions":["create"],"before":null,"after":{},"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"container_app_ips":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"container_app_name":{"actions":["create"],"before":null,"after":"example-app","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.7.5","values":{"outputs":{"container_app_fqdn":{"sensitive":false,"value":{},"type":["object",{}]},"container_app_name":{"sensitive":false,"value":"example-app","type":"string"}},"root_module":{"resources":[{"address":"data.azurerm_client_config.context","mode":"data","type":"azurerm_client_config","name":"context","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"06a3072b-b651-4abc-9142-0740f86bbfcb","id":"Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNmEzMDcyYi1iNjUxLTRhYmMtOTE0Mi0wNzQwZjg2YmJmY2I7b2JqZWN0SWQ9YzU4MWQzY2QtZGM3ZC00NDZjLTljZTAtNDQ3ZDViNjliMjE0O3N1YnNjcmlwdGlvbklkPTllMzY1MmJmLTcwYmUtNDEyYi1hNDFlLTg2M2Q0MDVjZmY2MDt0ZW5hbnRJZD05M2ZhYWRlZS1kMTU2LTRhNGItYjgwNS02MTYxZDFmZjM0NDg=","object_id":"c581d3cd-dc7d-446c-9ce0-447d5b69b214","subscription_id":"9e3652bf-70be-412b-a41e-863d405cff60","tenant_id":"93faadee-d156-4a4b-b805-6161d1ff3448","timeouts":null},"sensitive_values":{}}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","version_constraint":"~\u003e 3.0","expressions":{"features":[{}]}}},"root_module":{"outputs":{"container_app_environment_id":{"expression":{"references":["module.container_app.container_app_environment_id","module.container_app"]},"description":"The ID of the Container App Environment within which this Container App should exist."},"container_app_fqdn":{"expression":{"references":["module.container_app.container_app_fqdn","module.container_app"]},"description":"The FQDN of the Container App's ingress."},"container_app_ips":{"expression":{"references":["module.container_app.container_app_ips","module.container_app"]},"description":"The IPs of the Latest Revision of the Container App."},"container_app_name":{"expression":{"references":["module.container_app.container_app_name","module.container_app"]},"description":"The name of the Container App."}},"resources":[{"address":"azurerm_log_analytics_workspace.test","mode":"managed","type":"azurerm_log_analytics_workspace","name":"test","provider_config_key":"azurerm","expressions":{"location":{"references":["azurerm_resource_group.test.location","azurerm_resource_group.test"]},"name":{"references":["var.resource_suffix"]},"resource_group_name":{"references":["azurerm_resource_group.test.name","azurerm_resource_group.test"]},"retention_in_days":{"constant_value":30},"sku":{"constant_value":"PerGB2018"},"tags":{"references":["var.tags"]}},"schema_version":3,"count_expression":{"references":["var.monitoring_enabled"]}},{"address":"azurerm_resource_group.test","mode":"managed","type":"azurerm_resource_group","name":"test","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.resource_group_name"]}},"schema_version":0},{"address":"data.azurerm_client_config.context","mode":"data","type":"azurerm_client_config","name":"context","provider_config_key":"azurerm","schema_version":0}],"module_calls":{"container_app":{"source":"../..","expressions":{"container_app_revision_mode":{"references":["var.container_app_revision_mode"]},"location":{"references":["azurerm_resource_group.test.location","azurerm_resource_group.test"]},"log_analytics_workspace_id":{"references":["var.monitoring_enabled","azurerm_log_analytics_workspace.test[0].id","azurerm_log_analytics_workspace.test[0]","azurerm_log_analytics_workspace.test","var.log_analytics_workspace_id"]},"monitoring_enabled":{"references":["var.monitoring_enabled"]},"resource_group_name":{"references":["azurerm_resource_group.test.name","azurerm_resource_group.test"]},"resource_suffix":{"references":["var.resource_suffix"]},"tags":{"references":["var.tags"]}},"module":{"outputs":{"container_app_environment_id":{"expression":{"references":["azurerm_container_app_environment.container_env.id","azurerm_container_app_environment.container_env"]},"description":"The ID of the Container App Environment within which this Container App should exist."},"container_app_fqdn":{"expression":{"references":["azurerm_container_app.container_app"]},"description":"The FQDN of the Container App's ingress."},"container_app_ips":{"expression":{"references":["azurerm_container_app_environment.container_env.static_ip_address","azurerm_container_app_environment.container_env"]},"description":"The IPs of the Latest Revision of the Container App."},"container_app_name":{"expression":{"references":["azurerm_container_app.container_app.name","azurerm_container_app.container_app"]},"description":"The name of the Container App."}},"resources":[{"address":"azurerm_container_app.container_app","mode":"managed","type":"azurerm_container_app","name":"container_app","provider_config_key":"azurerm","expressions":{"container_app_environment_id":{"references":["azurerm_container_app_environment.container_env.id","azurerm_container_app_environment.container_env"]},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"name":{"constant_value":"example-app"},"resource_group_name":{"references":["var.resource_group_name"]},"revision_mode":{"references":["var.container_app_revision_mode"]},"template":[{"container":[{"cpu":{"constant_value":0.25},"image":{"constant_value":"mcr.microsoft.com/azuredocs/containerapps-helloworld:latest"},"memory":{"constant_value":"0.5Gi"},"name":{"constant_value":"examplecontainerapp"}}]}]},"schema_version":0},{"address":"azurerm_container_app_environment.container_env","mode":"managed","type":"azurerm_container_app_environment","name":"container_env","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"log_analytics_workspace_id":{"references":["var.log_analytics_workspace_id"]},"name":{"constant_value":"Example-Environment"},"resource_group_name":{"references":["var.resource_group_name"]}},"schema_version":0},{"address":"azurerm_monitor_diagnostic_setting.container_app","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"container_app","provider_config_key":"azurerm","expressions":{"log_analytics_workspace_id":{"references":["var.log_analytics_workspace_id"]},"name":{"constant_value":"ContainerAppMetrics"},"target_resource_id":{"references":["azurerm_container_app.container_app.id","azurerm_container_app.container_app"]}},"schema_version":0,"count_expression":{"references":["var.monitoring_enabled"]}}],"variables":{"container_app_monitoring_metrics":{"default":[],"description":"A list of Container App metric namespaces to monitor if monitoring is enabled"},"container_app_revision_mode":{"default":"Single","description":"The revisions operational mode for the Container App"},"location":{"description":"The short-format Azure region into which resources will be deployed"},"log_analytics_workspace_id":{"default":null,"description":"The ID of the Log Analytics Workspace to use for diagnostic log and metric collection if enabled"},"monitoring_enabled":{"default":false,"description":"Determines if monitoring should be enabled for the ADLS Storage Account"},"monitoring_logs_container_app":{"default":[],"description":"A list of diagnostic log namespaces to monitor for the Container App if enabled"},"monitoring_metrics_container_app":{"default":["AllMetrics"],"description":"A list of diagnostic metric namespaces to monitor for the Container App if enabled"},"private_networking_enabled":{"default":false,"description":"Determines if the a private endpoint will be provisioned for the ADLS Storage Account"},"resource_group_name":{"description":"The name of the resource group into which resources will be deployed"},"resource_suffix":{"description":"The resource suffix to append to resources"},"tags":{"default":{},"description":"A collection of tags to assign to taggable resources"}}}}},"variables":{"container_app_monitoring_metrics":{"default":[],"description":"A list of Container App metric namespaces to monitor if monitoring is enabled"},"container_app_revision_mode":{"default":"Single","description":"The revisions operational mode for the Container App"},"location":{"description":"The short-format Azure region into which resources will be deployed"},"log_analytics_workspace_id":{"default":null,"description":"The ID of the Log Analytics Workspace to use for diagnostic log and metric collection if enabled"},"monitoring_enabled":{"default":false,"description":"Determines if monitoring should be enabled for the ADLS Storage Account"},"monitoring_logs_container_app":{"default":[],"description":"A list of diagnostic log namespaces to monitor for the Container App if enabled"},"monitoring_metrics_container_app":{"default":["AllMetrics"],"description":"A list of diagnostic metric namespaces to monitor for the Container App if enabled"},"private_networking_enabled":{"default":false,"description":"Determines if the a private endpoint will be provisioned for the ADLS Storage Account"},"resource_group_name":{"description":"The name of the resource group into which resources will be deployed"},"resource_suffix":{"description":"The resource suffix to append to resources"},"tags":{"default":{},"description":"A collection of tags to assign to taggable resources"}}}},"relevant_attributes":[{"resource":"module.container_app.azurerm_container_app_environment.container_env","attribute":["static_ip_address"]},{"resource":"module.container_app.azurerm_container_app.container_app","attribute":["name"]},{"resource":"module.container_app.azurerm_container_app.container_app","attribute":[]},{"resource":"azurerm_log_analytics_workspace.test[0]","attribute":["id"]},{"resource":"azurerm_resource_group.test","attribute":["location"]},{"resource":"azurerm_resource_group.test","attribute":["name"]},{"resource":"module.container_app.azurerm_container_app_environment.container_env","attribute":["id"]}],"checks":[{"address":{"kind":"var","module":"module.container_app","name":"resource_suffix","to_display":"module.container_app.var.resource_suffix"},"status":"pass","instances":[{"address":{"module":"module.container_app","to_display":"module.container_app.var.resource_suffix"},"status":"pass"}]},{"address":{"kind":"var","name":"resource_suffix","to_display":"var.resource_suffix"},"status":"pass","instances":[{"address":{"to_display":"var.resource_suffix"},"status":"pass"}]}],"timestamp":"2024-04-04T10:56:48Z","errored":false}
